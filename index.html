<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width">
        <title>{{ product_name }} v{{ product_version }}</title>
        <script src="webif_libs/functions_embedded.js"> </script>
        <script src="functions_wfr.js"> </script>
        <script src="class.btn_panel.js"> </script>
        <link rel="stylesheet" type="text/css" href="index.css">
        
        <script src="webif_libs/windows.js"> </script> 
    </head>
    <body>

            <div class='windowBody' id='w_info_edit_panel'>
                <h3>Режим использования</h3>
                В данном режиме 
                <h3>Режим редактирования</h3>
                При нажатии на кнопку открывается окно, в котором редактируется имя кнопки, канал, а также можно переместить кнопку в другое место, удалить.
            </div>
    
        <div class='windowBody' id='btn_w_editbtn'>
            Имя: <input type='text' value='' class='btn_edit_rename'><br>
            Канал: <input type='text' value='' class='btn_edit_channel'><br>
            <input type='button' value='Удалить' class='btn_edit_delete'>
            <input type='button' value='Переместиить' class='btn_edit_replace'><br>
            
            <div class="btn_edit_replace_into_block" style="display:none;">
                Вставить рядом: <input type='button' value='слева' class='btn_editinsert_left'> <input type='button' value='справа' class='btn_edit_insert_right'><br>
                Вставить внутрь: <input type='button' value='в начало' class='btn_edit_insert_start'> <input type='button' value='в конец' class='btn_edit_insert_end'><br>
            </div>

            <div class="btn_edit_insert_into_block">
                Добавить: <br>
                <input type='radio' name="what" value='button'> кнопку <input type='radio' name="what" value='group'> группа <input type='radio' name="what" value='category'> категорию <br>
                <input type='radio' name="where" value='left'> слева <input type='radio' name="where" value='left'> справа <br>
            </div>
            
            <br>
            
            <span title="Кнопка сработает через N секунд после нажатия"> Задержать нажатие: </span> <input type='number' value='0' class="btn_edit_delay_press"  style="width:50px"> сек. <br>
            <span title="Кнопка вернётся в исходное состояние через N секунд после нажатия"> Таймер: </span> <input type='number' value='0' class="btn_edit_timer" style="width:50px"> сек.

        </div>

        <div class='windowBody' id='btn_w_editcategory'>
            Имя: <input type='text' value='' class='btn_edit_rename'><br>
            <input type='button' value='Удалить' class='btn_edit_delete'>
            <input type='button' value='Переместиить' class='btn_edit_replace'><br>

            <div class="btn_edit_replace_into_block" style="display:none;">
                Вставить рядом: <input type='button' value='ниже' class='btn_editinsert_left'> <input type='button' value='выше' class='btn_edit_insert_right'><br>
            </div>
            
            <div class="btn_edit_insert_into_block">
                Добавить: <br>
                <input type='radio' name="what" value='button'> кнопку <input type='radio' name="what" value='group'> группа <input type='radio' name="what" value='category'> категорию <br>
                <input type='radio' name="where" value='left'> слева <input type='radio' name="where" value='left'> справа <br>
            </div>
            
        </div>

        <div class='windowBody' id='btn_w_editgroup'>
            Имя: <input type='text' value='' class='btn_edit_rename'><br>
            <input type='button' value='Удалить' class='btn_edit_delete'>
            <input type='button' value='Переместиить' class='btn_edit_replace'><br>

            <div class="btn_edit_replace_into_block" style="display:none;">
                Вставить рядом: <input type='button' value='слева' class='btn_editinsert_left'> <input type='button' value='справа' class='btn_edit_insert_right'><br>
                Вставить внутрь: <input type='button' value='в начало' class='btn_edit_insert_start'> <input type='button' value='в конец' class='btn_edit_insert_end'><br>
            </div>
            
           <div class="btn_edit_insert_into_block">
                Добавить: <br>
                <input type='radio' name="what" value='button'> кнопку <input type='radio' name="what" value='group'> группа <br>
                <input type='radio' name="where" value='left'> слева <input type='radio' name="where" value='left'> справа <br>
            </div>
            
        </div>
        
        <div class='windowBody' id='btn_w_ei'>
            <textarea style='width:95%;' rows='10' onkeyup="ei_calc_size(this)"> </textarea><br>
            <table>
                <tr>
                    <td>Количество байт:</td>
                    <td class="ei_size"> </td>
                </tr><tr>
                    <td>Осталось:</td>
                    <td class="ei_free">0</td>
                </tr><tr>
                    <td>Всего байт:</td>
                    <td class="ei_max" id="ei_max">0</td>
                </tr>
            </table>
            <br>
            <input type='button' value='' class='btn_ei'>
        </div>
    
        <div class="navpanel">
            <div data-content="std">{{ panel_std }}</div>
            <div data-content="btn">{{ panel_panel }}</div>
            <!--<div data-content="schedule">{{ panel_schedule }}</div>-->
            <!--<div data-content="dev">Устройства</div>-->
            <!--<div data-content="event">События</div>-->
            <div data-content="set">{{ panel_set }}</div>
        </div>

        <div class="content" id="content_std">
            <div id="btns">
                <input type="button" value='LED' data-value='0' data-name="led" class='btns_button'><br>
            </div>
            <div style="text-align:left;">
                <br>
                <b>{{ statistic }}</b>
                <br>
                <table>
                    <tr>
                        <td>{{ time_of_job }}: </td><td> <span id="stat_time"> </span></td>
                    </tr><tr>
                        <td>{{ rtc_module }}: </td><td> <span id="stat_rtc"> </span></td>
                    </tr><tr>
                        <td>{{ rtc_browser }}: </td><td> <span id="stat_rtc_browser"> </span></td>
                    </tr><!--<tr>
                        <td>Текущее время сети: </td><td> <span id="stat_rtc"> </span></td>
                    </tr>--><tr>
                        <td>{{ voltage }}: </td><td> <span id="stat_vcc"> </span> V </td>
                    </tr>
                </table>
            </div>
        </div>

        <!--<div class="content" id="content_schedule">
            <table>
                <tr>
                    <th>Год</th>
                    <th>Мес</th>
                    <th>День</th>
                    <th>Час</th>
                    <th>Мин</th>
                    <th>Сек</th>
                    <th>Канал</th>
                    <th>Состояние</th>
                    <th></th>
                </tr><tr class="values">
                    <td>
                        <input type="number" size="4" name="year" value="00" max="2100" min="1">
                    </td>
                    <td>
                        <input type="number" size="2" name="month" value="00" max="12" min="1">
                    </td>
                    <td>
                        <input type="number" size="2" name="day" value="00" max="31" min="1">
                    </td>
                    <td>
                        <input type="number" size="2" name="hour" value="00" max="23" min="0">
                    </td>
                    <td>
                        <input type="number" size="2" name="minute" value="00" max="59" min="0">
                    </td>
                    <td>
                        <input type="number" size="2" name="second" value="00" max="59" min="0">
                    </td>
                    <td>
                        <input type="number" size="2" name="ch_name" value="1">
                    </td>
                    <td>
                        <select>
                            <option selected value="1">Включить</option>
                            <option value="0">Выключить</option>
                            <option value="-1">Инвертировать</option>
                        </select>
                    </td>
                    <td>
                        <input type="button" value="Добавить задачу" style="width:auto;">
                    </td>
                </tr><tr>
                    <td>
                        <input type="checkbox" name="is_use_year">
                    </td>
                    <td>
                        <input type="checkbox" name="is_use_month">
                    </td>
                    <td>
                        <input type="checkbox" name="is_use_day">
                    </td>
                    <td>
                        <input type="checkbox" name="is_use_hour">
                    </td>
                    <td>
                        <input type="checkbox" name="is_use_minute">
                    </td>
                    <td>
                        <input type="checkbox" name="is_use_second">
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>-->
        
        <div class="content" id="content_btn">
            <div class='content_block_right'>
                <input class='btnpanel_btn_import btns_editing' type='button' value="Импорт">
                <input class='btnpanel_btn_export btns_editing' type='button' value="Экспорт">
                <input class='btnpanel_btn_mode_editing' type='button' value="Редактировать"><input class='btnpanel_btn_mode_using' type='button' value="Сохранить и завершить редактирование">
                <input class='' type='button' value="?" onclick="W.open('w_info_edit_panel', {sheet:true});">
                <!--<br>
                <span>Настройка действий кнопок осуществляется в разделе "События"</span>-->
            </div>
            
            <div class='btnpanel_btns'>
            </div>

            <!--<div >
                <form>
                    <input type='text' value='' name='btn_name' placeholder='новая кнопка'>
                    <select name='group' onchange="this.style.display='none'; this.form.new_group.style.display='inline'; this.form.new_cancel.style.display='inline';">
                        <option selected disabled value='default'>выберите группу</option>
                        <option value='new'>новая группа</option>
                    </select>
                    <input style='display:none;' type='text' value='' name='new_group' placeholder='новая группа'>
                    <input style='display:none;' type='button' value='x' name='new_cancel' onclick="this.style.display='none'; this.form.new_group.style.display='none'; this.form.group.style.display='inline'; this.form.group.value='default';">
                    <input type='button' value='добавить'>
                </form>

                <form>
                    <input type='text' value='' name='monitor_name' placeholder='новый индикатор'>
                    <input type='button' value='добавить'>
                </form>
            </div>-->
            
        </div>
        
        <!--<div class="content" id="content_event">
        
           <form>
               <fieldset><legend>Причинно-следственные связи</legend>
                   <select>
                       <option selected disabled>Причина</option>
                   </select>
                   <select>
                       <option selected disabled>Следствие</option>
                   </select>
                   <input type='button' value='Добавить'>
               </fieldset> 
           </form>

           <br>
           
           <form>
               <fieldset><legend>Добавить причину (источник события)</legend>
                   <select onchange=''>
                       <option selected>Нажатие на кнопку</option>
                       <option>Изменение состояния канала</option>
                       <option>Временной интервал</option>
                   </select>
                   <input type='text' placeholder='название'>
                   <br>
                   <input type='button' value='Добавить'>
               </fieldset>
           </form>

           <br>
           
            <form>
                <fieldset><legend>Добавить следствие (событие)</legend>
                    <select onchange=''>
                        <option selected>Изменение состояния канала</option>
                        <option></option>
                    </select>
                    <input type='text' placeholder='название'>
                    <br>
                    <input type='button' value='Добавить'>
                </fieldset>
            </form>
        </div>-->
        
        <div class="content" id="content_set">
            <form id="form_wifi_mode" onchange="sendform(this, 'settings_mode');">
                <fieldset><legend>{{ set_wifi_mode }}</legend>
                    <label> <input type='radio' name='wifi_mode' value='1'>{{ set_wifi_mode_client }}</label>
                    <label> <input type='radio' name='wifi_mode' value='0'>{{ set_wifi_mode_ap }}</label>
                    <label> <input type='radio' name='wifi_mode' value='2'>{{ set_wifi_mode_both }}</label>
                </fieldset>
            </form>
        
            <br>

            <form class='settings' id="form_device_name">
                <fieldset><legend>{{ set_device_name }}</legend>
            
                <table>
                    <tr>
                        <td> <input type="text" name='device_name'> </td> <td> <input type='button' value='{{ save }}' onclick="sendform(this, 'settings_device_name')"> </td>
                    </tr>
                </table>
                
                </fieldset>
            </form>

            <br>
            
            <form class='settings' id="form_wifi_wifi">
                <fieldset><legend>{{ set_wifi }}</legend>
            
                <br><b>{{ set_wifi_mode_ap }}</b><br>
                <table>
                    <tr>
                        <td>{{ set_wifi_ssid }}:</td> <td> <input type="text" name='ssidAP'> </td>
                    </tr>
                    <tr>
                        <td> {{ set_wifi_password }}: </td> <td> <input type="text" name='passwordAP' minlength="8"> </td>
                    </tr>
                </table>

                <br><b>{{ set_wifi_mode_client }}</b><br>
                <table>
                    <tr>
                        <td>{{ set_wifi_ssid }}:</td> <td> <input type="text" name='ssid'> </td>
                    </tr>
                    <tr>
                        <td>{{ set_wifi_password }}: </td> <td> <input type="text" name='password'> </td>
                    </tr>
                </table>
                
                <br>
                
                <input type='button' value='{{ save }}' onclick="sendform(this, 'settings')">

                </fieldset>
            </form>

            <br>
            
            <form id="form_rtc">
            
                <fieldset><legend>{{ set_time }}</legend>
                
                <input type="hidden" name="seconds" value="0">

                <table>
                    <tr>
                        <td> {{ set_time_date }}: </td><td> <input type="date" name="date"> </td> <!--<input type="text" name="year" size="4"> - <input type="text" name="month" size="2"> - <input type="text" name="day" size="2">-->
                    </tr>
                    <tr>
                        <td> {{ set_time_time }}: </td><td> <input type="time" name="time"> </td> <!--<input type="text" name="h" size="2"> : <input type="text" name="m" size="2"> : <input type="text" name="s" size="2">-->
                    </tr>
                </table>

                <br><br>
                
                <input type='button' value='{{ save }}' onclick="sendform(this, 'settings_time', {data:{source:'hand'}})">
                <!--<input type='button' value='Обновить время через Интернет' onclick="sendform(this, 'settings_time', {data:{source:'ntp'}})">-->
                <input type='button' value='{{ set_time_set_from_browser }}' onclick="{let d = get_rtc_browser(); console.log(d); this.form.date.value=d.date; this.form.time.value=d.time.slice(0, -3); this.form.seconds.value=d.time.slice(-2)}; sendform(this, 'settings_time', {data:{source:'browser'}})">
               
                </fieldset>
            
            </form>
            
            <br>
            
            <form id="form_other">
                <fieldset><legend>{{ set_other }}</legend>
                
                    {{ set_other_update_time }}: <input type="number" name='update_time' style="width:100px;"> {{ ms }}
                    <input type='button' value='{{ save }}' onclick="sendform(this, 'settings_other')">
                    <br>
                
                    <div style="color:#9a1515;">
                        <input type="button" value="{{ set_other_reset }}" onclick="if (confirm('{{ set_other_reset_question }}')) sendform(this, 'settings_reset', {func_success: function() {alert('{{ set_other_reset_done }}');}});">
                        <input type="button" value="{{ set_other_reboot }}" onclick="if (confirm('{{ set_other_reboot_question }}')) sendform(this, 'settings_reboot', {func_after_load: function() {alert('{{ set_other_reboot_done }}');}});">
                   </div>
                </fieldset>
            </form>

        </div>

        <!--<div class="content" id="content_dev">
        </div>-->
        
        <script src="after_load.js"> </script>
        
    </body>
</html>